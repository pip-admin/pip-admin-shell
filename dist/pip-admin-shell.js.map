{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/home/HomePage.ts","src/home/HomePanel.ts","src/index.ts","src/shell/Shell.ts","src/shell/ShellService.ts","temp/pip-admin-shell-html.min.js"],"names":[],"mappings":"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","file":"pip-admin-shell.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export class HomePage {\n    Name?: string;\n    Items: HomePageItem[];\n}\n\nexport class HomePageItem {\n    Name: string;\n    State: string;\n    ColorBadge?: string = null;\n    Count?: number = 0;\n    Params?: any = null;\n    Color?: string = null;\n    Icon?: string = null;\n}","import {HomePage,  HomePageItem} from './HomePage';\n\ninterface IAdminHomeBindings {\n    [key: string]: any;\n\n    pages: any,\n    defaultIcon: any,\n    defaultColor: any\n}\n\nconst AdminHomeBindings: IAdminHomeBindings = {\n    pages: \"<pipPages\",\n    defaultIcon: \"<?pipDefaultIcon\",\n    defaultColor: \"<?pipDefaultColor\"\n}\n\nclass AdminHomeChanges implements ng.IOnChangesObject, IAdminHomeBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    pages: ng.IChangesObject<HomePage[]>;\n    defaultIcon: ng.IChangesObject<string>;\n    defaultColor: ng.IChangesObject<string>;\n}\n\nclass AdminHomeController {\n    public pages: HomePage[];\n    public defaultIcon: string = null;\n    public defaultColor: string = null;\n\n    constructor(private $state: ng.ui.IStateService) {}\n    public $onInit() {}\n    public gotoDetails(item: HomePageItem) {\n        this.$state.go(item.State, item.Params);\n    }\n\n}\n\n(() => {\n    angular\n        .module('pipAdminHomePanel', [\n            'pipAdminShell.Templates'\n        ])\n        .component('pipAdminHomePanel', {\n            bindings: AdminHomeBindings,\n            templateUrl: 'home/HomePanel.html',\n            controller: AdminHomeController,\n            controllerAs: '$ctrl'\n        })\n\n})();\n","ï»¿/// <reference path=\"../typings/tsd.d.ts\" />\n\n(() => {\n    'use strict';\n\n    angular.module('pipShell', [\n        'pipAdminShell.Templates',\n        'pipShellService',\n        'pipAdminShell',\n        'pipAdminHomePanel'\n    ]);\n})();","import { IShellService, IShellProvider } from './IShellService';\n\ninterface IAdminShellBindings {\n    [key: string]: any;\n}\n\nconst AdminShellBindings: IAdminShellBindings = {}\n\nclass AdminShellChanges implements ng.IOnChangesObject, IAdminShellBindings {\n    [key: string]: ng.IChangesObject<any>;\n}\n\nclass AdminShellController {\n    constructor(\n        private $state: ng.ui.IStateService,\n        private pipShell: IShellService) {\n    }\n\n    public showMain(): boolean {\n\n        let find: boolean = true;\n        if (this.$state.current.name == \"\") return false;\n        this.pipShell.hideMain().forEach(element => {\n            if (element == this.$state.current.name) { find = false; return; }\n        });\n        return find\n    }\n\n     public showBar(): boolean {\n        let find: boolean = true;\n        if (this.$state.current.name == \"\") return false;\n        this.pipShell.hideBar.forEach(element => {\n            if (element == this.$state.current.name) { find = false; return; }\n        });\n        return find\n    }\n\n    public showNav(): boolean {\n        let find: boolean = true;\n        if (this.$state.current.name == \"\") return false;\n        this.pipShell.hideNav.forEach(element => {\n            if (element == this.$state.current.name) { find = false; return; }\n        });\n        return find\n    }\n\n\n}\n\n(() => {\n    angular\n        .module('pipAdminShell', [\n            'pipNav',\n            'pipEntry',\n            'pipAdminShell.Templates'\n        ])\n        .component('pipAdminShell', {\n            bindings: AdminShellBindings,\n            templateUrl: 'shell/Shell.html',\n            controller: AdminShellController,\n            controllerAs: '$ctrl'\n        })\n\n})();\n","import { IShellService, IShellProvider } from './IShellService';\n\nclass ShellService implements IShellService {\n    private _hideNav: string[] = [];\n    private _hideBar: string[] = [];\n\n    public constructor(\n        hideNav: string[],\n        hideBar: string[]\n    ) {\n        this._hideNav = hideNav;\n        this._hideBar = hideBar;\n    }\n\n    public get hideBar(): string[] {\n        return this._hideBar;\n    }\n\n    public get hideNav(): string[] {\n        return this._hideNav;\n    }\n\n    public set hideBar(value: string[]) {\n        this._hideBar = value;\n    }\n\n    public set hideNav(value: string[]) {\n        this._hideNav = value;\n    }\n\n    public hideMain(): string[] {\n        return _.intersection(this._hideBar, this._hideNav);\n    }\n}\n\n\nclass ShellProvider implements ng.IServiceProvider, IShellProvider {\n    private _service: ShellService;\n    private _hideNav: string[] = ['landing', 'signin', 'signup', 'post_signup', 'recover_password', 'reset_password'];\n    private _hideBar: string[] = ['landing'];\n\n    public set hideBar(value: string[]) {\n        this._hideBar = value;\n    }\n\n    public set hideNav(value: string[]) {\n        this._hideNav = value;\n    }\n\n    public addHideNav(value: string) {\n        this._hideNav.push(value);\n    }\n\n    public addHideBar(value: string) {\n        this._hideBar.push(value);\n    }\n\n    public $get(): ShellService {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new ShellService(this._hideNav, this._hideBar);\n\n        return this._service;\n    }\n}\n\n\nangular\n    .module('pipShellService', [])\n    .provider('pipShell', ShellProvider);","(function(module) {\ntry {\n  module = angular.module('pipAdminShell.Templates');\n} catch (e) {\n  module = angular.module('pipAdminShell.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('home/HomePanel.html',\n    '<div class=\"pip-grouped-grid pip-grouped-grid\" ng-class=\"{\\'pip-grouped-grid-xs flex\\': $ctrl.pipMedia(\\'xs\\')}\" id=\"TileGroup\"><div class=\"pip-grouped-grid pip-scroll\" style=\"margin: 0 auto;\"><div pip-focused=\"\" pip-focused-opacity=\"true\" pip-focused-tabindex=\"0\"><div class=\"pip-group\" ng-repeat=\"page in $ctrl.pages\" ng-class=\"{\\'pip-group-xs\\': $ctrl.pipMedia(\\'xs\\'), \\'pip-group-md\\': $ctrl.pipMedia(\\'sm\\') || $ctrl.pipMedia(\\'md\\')}\"><div class=\"pip-title-group\" ng-if=\"page.Name\">{{page.Name}}</div><div tabindex=\"-1\" ng-repeat=\"item in page.Items\" ng-click=\"$ctrl.gotoDetails(item)\" class=\"pip-focusable pip-tile {{$ctrl.defaultColor}} {{item.Color}}\" ng-class=\"{\\'bg-color-8\\' : !item.Color && !$ctrl.defaultColor , \\'pip-tile-xs flex\\': $ctrl.pipMedia(\\'xs\\')}\"><div class=\"pip-badge {{item.ColorBadge}}\" ng-show=\"item.Count > 0\">{{item.Count}}</div><md-icon md-svg-icon=\"{{item.Icon}}\" class=\"pip-grid-icon\" ng-if=\"item.Icon\"></md-icon><md-icon md-svg-icon=\"icons:connections\" class=\"pip-grid-icon\" ng-if=\"!item.Icon && !item.defaultIcon\"></md-icon><md-icon md-svg-icon=\"{{item.defaultIcon}}\" class=\"pip-grid-icon\" ng-if=\"!item.Icon && item.defaultIcon\"></md-icon><div class=\"text-overflow pip-text\">{{::item.Name}}</div></div></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipAdminShell.Templates');\n} catch (e) {\n  module = angular.module('pipAdminShell.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('shell/Shell.html',\n    '<pip-main class=\"pip-main\"><pip-appbar ng-if=\"$ctrl.showBar()\"><pip-nav-icon pip-appbar-part=\"icon\"></pip-nav-icon><pip-breadcrumb xxxclass=\"flex\" pip-appbar-part=\"title:breadcrumb\"></pip-breadcrumb><img pip-appbar-part=\"logo\" src=\"images/piplife_logo.svg\" width=\"30\"><div class=\"flex\"></div><pip-search-bar pip-appbar-part=\"search\"></pip-search-bar><pip-primary-actions class=\"flex-fixed\" pip-appbar-part=\"actions:primary\"></pip-primary-actions><pip-language-picker class=\"flex-fixed\" languages=\"languages\" pip-appbar-part=\"actions:language\"></pip-language-picker><pip-secondary-actions class=\"flex-fixed\" pip-appbar-part=\"menu\"></pip-secondary-actions></pip-appbar><div class=\"layout-row\" style=\"height: 100%;\"><pip-sidenav ng-if=\"$ctrl.showNav()\"><pip-nav-header pip-sidenav-part=\"user\"></pip-nav-header><pip-nav-menu pip-sidenav-part=\"links\"></pip-nav-menu></pip-sidenav><pip-main-body class=\"pip-main-body\" ui-view=\"\"></pip-main-body></div></pip-main>');\n}]);\n})();\n\n//# sourceMappingURL=pip-admin-shell-html.min.js.map\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvaG9tZS9Ib21lUGFnZS50cyIsInNyYy9ob21lL0hvbWVQYW5lbC50cyIsInNyYy9pbmRleC50cyIsInNyYy9zaGVsbC9TaGVsbC50cyIsInNyYy9zaGVsbC9TaGVsbFNlcnZpY2UudHMiLCJ0ZW1wL3BpcC1hZG1pbi1zaGVsbC1odG1sLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7SUFBQTtJQUdBLENBQUM7SUFBRCxlQUFDO0FBQUQsQ0FIQSxBQUdDLElBQUE7QUFIWSw0QkFBUTtBQUtyQjtJQUFBO1FBR0ksZUFBVSxHQUFZLElBQUksQ0FBQztRQUMzQixVQUFLLEdBQVksQ0FBQyxDQUFDO1FBQ25CLFdBQU0sR0FBUyxJQUFJLENBQUM7UUFDcEIsVUFBSyxHQUFZLElBQUksQ0FBQztRQUN0QixTQUFJLEdBQVksSUFBSSxDQUFDO0lBQ3pCLENBQUM7SUFBRCxtQkFBQztBQUFELENBUkEsQUFRQyxJQUFBO0FBUlksb0NBQVk7Ozs7QUNLekIsSUFBTSxpQkFBaUIsR0FBdUI7SUFDMUMsS0FBSyxFQUFFLFdBQVc7SUFDbEIsV0FBVyxFQUFFLGtCQUFrQjtJQUMvQixZQUFZLEVBQUUsbUJBQW1CO0NBQ3BDLENBQUE7QUFFRDtJQUFBO0lBTUEsQ0FBQztJQUFELHVCQUFDO0FBQUQsQ0FOQSxBQU1DLElBQUE7QUFFRDtJQUtJLDZCQUFvQixNQUEyQjtRQUEzQixXQUFNLEdBQU4sTUFBTSxDQUFxQjtRQUh4QyxnQkFBVyxHQUFXLElBQUksQ0FBQztRQUMzQixpQkFBWSxHQUFXLElBQUksQ0FBQztJQUVlLENBQUM7SUFDNUMscUNBQU8sR0FBZCxjQUFrQixDQUFDO0lBQ1oseUNBQVcsR0FBbEIsVUFBbUIsSUFBa0I7UUFDakMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFD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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJleHBvcnQgY2xhc3MgSG9tZVBhZ2Uge1xuICAgIE5hbWU/OiBzdHJpbmc7XG4gICAgSXRlbXM6IEhvbWVQYWdlSXRlbVtdO1xufVxuXG5leHBvcnQgY2xhc3MgSG9tZVBhZ2VJdGVtIHtcbiAgICBOYW1lOiBzdHJpbmc7XG4gICAgU3RhdGU6IHN0cmluZztcbiAgICBDb2xvckJhZGdlPzogc3RyaW5nID0gbnVsbDtcbiAgICBDb3VudD86IG51bWJlciA9IDA7XG4gICAgUGFyYW1zPzogYW55ID0gbnVsbDtcbiAgICBDb2xvcj86IHN0cmluZyA9IG51bGw7XG4gICAgSWNvbj86IHN0cmluZyA9IG51bGw7XG59IiwiaW1wb3J0IHtIb21lUGFnZSwgIEhvbWVQYWdlSXRlbX0gZnJvbSAnLi9Ib21lUGFnZSc7XG5cbmludGVyZmFjZSBJQWRtaW5Ib21lQmluZGluZ3Mge1xuICAgIFtrZXk6IHN0cmluZ106IGFueTtcblxuICAgIHBhZ2VzOiBhbnksXG4gICAgZGVmYXVsdEljb246IGFueSxcbiAgICBkZWZhdWx0Q29sb3I6IGFueVxufVxuXG5jb25zdCBBZG1pbkhvbWVCaW5kaW5nczogSUFkbWluSG9tZUJpbmRpbmdzID0ge1xuICAgIHBhZ2VzOiBcIjxwaXBQYWdlc1wiLFxuICAgIGRlZmF1bHRJY29uOiBcIjw/cGlwRGVmYXVsdEljb25cIixcbiAgICBkZWZhdWx0Q29sb3I6IFwiPD9waXBEZWZhdWx0Q29sb3JcIlxufVxuXG5jbGFzcyBBZG1pbkhvbWVDaGFuZ2VzIGltcGxlbWVudHMgbmcuSU9uQ2hhbmdlc09iamVjdCwgSUFkbWluSG9tZUJpbmRpbmdzIHtcbiAgICBba2V5OiBzdHJpbmddOiBuZy5JQ2hhbmdlc09iamVjdDxhbnk+O1xuXG4gICAgcGFnZXM6IG5nLklDaGFuZ2VzT2JqZWN0PEhvbWVQYWdlW10+O1xuICAgIGRlZmF1bHRJY29uOiBuZy5JQ2hhbmdlc09iamVjdDxzdHJpbmc+O1xuICAgIGRlZmF1bHRDb2xvcjogbmcuSUNoYW5nZXNPYmplY3Q8c3RyaW5nPjtcbn1cblxuY2xhc3MgQWRtaW5Ib21lQ29udHJvbGxlciB7XG4gICAgcHVibGljIHBhZ2VzOiBIb21lUGFnZVtdO1xuICAgIHB1YmxpYyBkZWZhdWx0SWNvbjogc3RyaW5nID0gbnVsbDtcbiAgICBwdWJsaWMgZGVmYXVsdENvbG9yOiBzdHJpbmcgPSBudWxsO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSAkc3RhdGU6IG5nLnVpLklTdGF0ZVNlcnZpY2UpIHt9XG4gICAgcHVibGljICRvbkluaXQoKSB7fVxuICAgIHB1YmxpYyBnb3RvRGV0YWlscyhpdGVtOiBIb21lUGFnZUl0ZW0pIHtcbiAgICAgICAgdGhpcy4kc3RhdGUuZ28oaXRlbS5TdGF0ZSwgaXRlbS5QYXJhbXMpO1xuICAgIH1cblxufVxuXG4oKCkgPT4ge1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgncGlwQWRtaW5Ib21lUGFuZWwnLCBbXG4gICAgICAgICAgICAncGlwQWRtaW5TaGVsbC5UZW1wbGF0ZXMnXG4gICAgICAgIF0pXG4gICAgICAgIC5jb21wb25lbnQoJ3BpcEFkbWluSG9tZVBhbmVsJywge1xuICAgICAgICAgICAgYmluZGluZ3M6IEFkbWluSG9tZUJpbmRpbmdzLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdob21lL0hvbWVQYW5lbC5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IEFkbWluSG9tZUNvbnRyb2xsZXIsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICckY3RybCdcbiAgICAgICAgfSlcblxufSkoKTtcbiIsIu+7vy8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL3RzZC5kLnRzXCIgLz5cblxuKCgpID0+IHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgncGlwU2hlbGwnLCBbXG4gICAgICAgICdwaXBBZG1pblNoZWxsLlRlbXBsYXRlcycsXG4gICAgICAgICdwaXBTaGVsbFNlcnZpY2UnLFxuICAgICAgICAncGlwQWRtaW5TaGVsbCcsXG4gICAgICAgICdwaXBBZG1pbkhvbWVQYW5lbCdcbiAgICBdKTtcbn0pKCk7IiwiaW1wb3J0IHsgSVNoZWxsU2VydmljZSwgSVNoZWxsUHJvdmlkZXIgfSBmcm9tICcuL0lTaGVsbFNlcnZpY2UnO1xuXG5pbnRlcmZhY2UgSUFkbWluU2hlbGxCaW5kaW5ncyB7XG4gICAgW2tleTogc3RyaW5nXTogYW55O1xufVxuXG5jb25zdCBBZG1pblNoZWxsQmluZGluZ3M6IElBZG1pblNoZWxsQmluZGluZ3MgPSB7fVxuXG5jbGFzcyBBZG1pblNoZWxsQ2hhbmdlcyBpbXBsZW1lbnRzIG5nLklPbkNoYW5nZXNPYmplY3QsIElBZG1pblNoZWxsQmluZGluZ3Mge1xuICAgIFtrZXk6IHN0cmluZ106IG5nLklDaGFuZ2VzT2JqZWN0PGFueT47XG59XG5cbmNsYXNzIEFkbWluU2hlbGxDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSAkc3RhdGU6IG5nLnVpLklTdGF0ZVNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgcGlwU2hlbGw6IElTaGVsbFNlcnZpY2UpIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hvd01haW4oKTogYm9vbGVhbiB7XG5cbiAgICAgICAgbGV0IGZpbmQ6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy4kc3RhdGUuY3VycmVudC5uYW1lID09IFwiXCIpIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhpcy5waXBTaGVsbC5oaWRlTWFpbigpLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCA9PSB0aGlzLiRzdGF0ZS5jdXJyZW50Lm5hbWUpIHsgZmluZCA9IGZhbHNlOyByZXR1cm47IH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmaW5kXG4gICAgfVxuXG4gICAgIHB1YmxpYyBzaG93QmFyKCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgZmluZDogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLiRzdGF0ZS5jdXJyZW50Lm5hbWUgPT0gXCJcIikgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLnBpcFNoZWxsLmhpZGVCYXIuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50ID09IHRoaXMuJHN0YXRlLmN1cnJlbnQubmFtZSkgeyBmaW5kID0gZmFsc2U7IHJldHVybjsgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZpbmRcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hvd05hdigpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGZpbmQ6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy4kc3RhdGUuY3VycmVudC5uYW1lID09IFwiXCIpIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhpcy5waXBTaGVsbC5oaWRlTmF2LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCA9PSB0aGlzLiRzdGF0ZS5jdXJyZW50Lm5hbWUpIHsgZmluZCA9IGZhbHNlOyByZXR1cm47IH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmaW5kXG4gICAgfVxuXG5cbn1cblxuKCgpID0+IHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3BpcEFkbWluU2hlbGwnLCBbXG4gICAgICAgICAgICAncGlwTmF2JyxcbiAgICAgICAgICAgICdwaXBFbnRyeScsXG4gICAgICAgICAgICAncGlwQWRtaW5TaGVsbC5UZW1wbGF0ZXMnXG4gICAgICAgIF0pXG4gICAgICAgIC5jb21wb25lbnQoJ3BpcEFkbWluU2hlbGwnLCB7XG4gICAgICAgICAgICBiaW5kaW5nczogQWRtaW5TaGVsbEJpbmRpbmdzLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzaGVsbC9TaGVsbC5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IEFkbWluU2hlbGxDb250cm9sbGVyLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAnJGN0cmwnXG4gICAgICAgIH0pXG5cbn0pKCk7XG4iLCJpbXBvcnQgeyBJU2hlbGxTZXJ2aWNlLCBJU2hlbGxQcm92aWRlciB9IGZyb20gJy4vSVNoZWxsU2VydmljZSc7XG5cbmNsYXNzIFNoZWxsU2VydmljZSBpbXBsZW1lbnRzIElTaGVsbFNlcnZpY2Uge1xuICAgIHByaXZhdGUgX2hpZGVOYXY6IHN0cmluZ1tdID0gW107XG4gICAgcHJpdmF0ZSBfaGlkZUJhcjogc3RyaW5nW10gPSBbXTtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICAgICAgaGlkZU5hdjogc3RyaW5nW10sXG4gICAgICAgIGhpZGVCYXI6IHN0cmluZ1tdXG4gICAgKSB7XG4gICAgICAgIHRoaXMuX2hpZGVOYXYgPSBoaWRlTmF2O1xuICAgICAgICB0aGlzLl9oaWRlQmFyID0gaGlkZUJhcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGhpZGVCYXIoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5faGlkZUJhcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGhpZGVOYXYoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5faGlkZU5hdjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGhpZGVCYXIodmFsdWU6IHN0cmluZ1tdKSB7XG4gICAgICAgIHRoaXMuX2hpZGVCYXIgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGhpZGVOYXYodmFsdWU6IHN0cmluZ1tdKSB7XG4gICAgICAgIHRoaXMuX2hpZGVOYXYgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGlkZU1haW4oKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gXy5pbnRlcnNlY3Rpb24odGhpcy5faGlkZUJhciwgdGhpcy5faGlkZU5hdik7XG4gICAgfVxufVxuXG5cbmNsYXNzIFNoZWxsUHJvdmlkZXIgaW1wbGVtZW50cyBuZy5JU2VydmljZVByb3ZpZGVyLCBJU2hlbGxQcm92aWRlciB7XG4gICAgcHJpdmF0ZSBfc2VydmljZTogU2hlbGxTZXJ2aWNlO1xuICAgIHByaXZhdGUgX2hpZGVOYXY6IHN0cmluZ1tdID0gWydsYW5kaW5nJywgJ3NpZ25pbicsICdzaWdudXAnLCAncG9zdF9zaWdudXAnLCAncmVjb3Zlcl9wYXNzd29yZCcsICdyZXNldF9wYXNzd29yZCddO1xuICAgIHByaXZhdGUgX2hpZGVCYXI6IHN0cmluZ1tdID0gWydsYW5kaW5nJ107XG5cbiAgICBwdWJsaWMgc2V0IGhpZGVCYXIodmFsdWU6IHN0cmluZ1tdKSB7XG4gICAgICAgIHRoaXMuX2hpZGVCYXIgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGhpZGVOYXYodmFsdWU6IHN0cmluZ1tdKSB7XG4gICAgICAgIHRoaXMuX2hpZGVOYXYgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkSGlkZU5hdih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2hpZGVOYXYucHVzaCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEhpZGVCYXIodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9oaWRlQmFyLnB1c2godmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyAkZ2V0KCk6IFNoZWxsU2VydmljZSB7XG4gICAgICAgIFwibmdJbmplY3RcIjtcblxuICAgICAgICBpZiAodGhpcy5fc2VydmljZSA9PSBudWxsKVxuICAgICAgICAgICAgdGhpcy5fc2VydmljZSA9IG5ldyBTaGVsbFNlcnZpY2UodGhpcy5faGlkZU5hdiwgdGhpcy5faGlkZUJhcik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlcnZpY2U7XG4gICAgfVxufVxuXG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdwaXBTaGVsbFNlcnZpY2UnLCBbXSlcbiAgICAucHJvdmlkZXIoJ3BpcFNoZWxsJywgU2hlbGxQcm92aWRlcik7IiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcEFkbWluU2hlbGwuVGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBBZG1pblNoZWxsLlRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnaG9tZS9Ib21lUGFuZWwuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJwaXAtZ3JvdXBlZC1ncmlkIHBpcC1ncm91cGVkLWdyaWRcIiBuZy1jbGFzcz1cIntcXCdwaXAtZ3JvdXBlZC1ncmlkLXhzIGZsZXhcXCc6ICRjdHJsLnBpcE1lZGlhKFxcJ3hzXFwnKX1cIiBpZD1cIlRpbGVHcm91cFwiPjxkaXYgY2xhc3M9XCJwaXAtZ3JvdXBlZC1ncmlkIHBpcC1zY3JvbGxcIiBzdHlsZT1cIm1hcmdpbjogMCBhdXRvO1wiPjxkaXYgcGlwLWZvY3VzZWQ9XCJcIiBwaXAtZm9jdXNlZC1vcGFjaXR5PVwidHJ1ZVwiIHBpcC1mb2N1c2VkLXRhYmluZGV4PVwiMFwiPjxkaXYgY2xhc3M9XCJwaXAtZ3JvdXBcIiBuZy1yZXBlYXQ9XCJwYWdlIGluICRjdHJsLnBhZ2VzXCIgbmctY2xhc3M9XCJ7XFwncGlwLWdyb3VwLXhzXFwnOiAkY3RybC5waXBNZWRpYShcXCd4c1xcJyksIFxcJ3BpcC1ncm91cC1tZFxcJzogJGN0cmwucGlwTWVkaWEoXFwnc21cXCcpIHx8ICRjdHJsLnBpcE1lZGlhKFxcJ21kXFwnKX1cIj48ZGl2IGNsYXNzPVwicGlwLXRpdGxlLWdyb3VwXCIgbmctaWY9XCJwYWdlLk5hbWVcIj57e3BhZ2UuTmFtZX19PC9kaXY+PGRpdiB0YWJpbmRleD1cIi0xXCIgbmctcmVwZWF0PVwiaXRlbSBpbiBwYWdlLkl0ZW1zXCIgbmctY2xpY2s9XCIkY3RybC5nb3RvRGV0YWlscyhpdGVtKVwiIGNsYXNzPVwicGlwLWZvY3VzYWJsZSBwaXAtdGlsZSB7eyRjdHJsLmRlZmF1bHRDb2xvcn19IHt7aXRlbS5Db2xvcn19XCIgbmctY2xhc3M9XCJ7XFwnYmctY29sb3ItOFxcJyA6ICFpdGVtLkNvbG9yICYmICEkY3RybC5kZWZhdWx0Q29sb3IgLCBcXCdwaXAtdGlsZS14cyBmbGV4XFwnOiAkY3RybC5waXBNZWRpYShcXCd4c1xcJyl9XCI+PGRpdiBjbGFzcz1cInBpcC1iYWRnZSB7e2l0ZW0uQ29sb3JCYWRnZX19XCIgbmctc2hvdz1cIml0ZW0uQ291bnQgPiAwXCI+e3tpdGVtLkNvdW50fX08L2Rpdj48bWQtaWNvbiBtZC1zdmctaWNvbj1cInt7aXRlbS5JY29ufX1cIiBjbGFzcz1cInBpcC1ncmlkLWljb25cIiBuZy1pZj1cIml0ZW0uSWNvblwiPjwvbWQtaWNvbj48bWQtaWNvbiBtZC1zdmctaWNvbj1cImljb25zOmNvbm5lY3Rpb25zXCIgY2xhc3M9XCJwaXAtZ3JpZC1pY29uXCIgbmctaWY9XCIhaXRlbS5JY29uICYmICFpdGVtLmRlZmF1bHRJY29uXCI+PC9tZC1pY29uPjxtZC1pY29uIG1kLXN2Zy1pY29uPVwie3tpdGVtLmRlZmF1bHRJY29ufX1cIiBjbGFzcz1cInBpcC1ncmlkLWljb25cIiBuZy1pZj1cIiFpdGVtLkljb24gJiYgaXRlbS5kZWZhdWx0SWNvblwiPjwvbWQtaWNvbj48ZGl2IGNsYXNzPVwidGV4dC1vdmVyZmxvdyBwaXAtdGV4dFwiPnt7OjppdGVtLk5hbWV9fTwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcEFkbWluU2hlbGwuVGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBBZG1pblNoZWxsLlRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnc2hlbGwvU2hlbGwuaHRtbCcsXG4gICAgJzxwaXAtbWFpbiBjbGFzcz1cInBpcC1tYWluXCI+PHBpcC1hcHBiYXIgbmctaWY9XCIkY3RybC5zaG93QmFyKClcIj48cGlwLW5hdi1pY29uIHBpcC1hcHBiYXItcGFydD1cImljb25cIj48L3BpcC1uYXYtaWNvbj48cGlwLWJyZWFkY3J1bWIgeHh4Y2xhc3M9XCJmbGV4XCIgcGlwLWFwcGJhci1wYXJ0PVwidGl0bGU6YnJlYWRjcnVtYlwiPjwvcGlwLWJyZWFkY3J1bWI+PGltZyBwaXAtYXBwYmFyLXBhcnQ9XCJsb2dvXCIgc3JjPVwiaW1hZ2VzL3BpcGxpZmVfbG9nby5zdmdcIiB3aWR0aD1cIjMwXCI+PGRpdiBjbGFzcz1cImZsZXhcIj48L2Rpdj48cGlwLXNlYXJjaC1iYXIgcGlwLWFwcGJhci1wYXJ0PVwic2VhcmNoXCI+PC9waXAtc2VhcmNoLWJhcj48cGlwLXByaW1hcnktYWN0aW9ucyBjbGFzcz1cImZsZXgtZml4ZWRcIiBwaXAtYXBwYmFyLXBhcnQ9XCJhY3Rpb25zOnByaW1hcnlcIj48L3BpcC1wcmltYXJ5LWFjdGlvbnM+PHBpcC1sYW5ndWFnZS1waWNrZXIgY2xhc3M9XCJmbGV4LWZpeGVkXCIgbGFuZ3VhZ2VzPVwibGFuZ3VhZ2VzXCIgcGlwLWFwcGJhci1wYXJ0PVwiYWN0aW9uczpsYW5ndWFnZVwiPjwvcGlwLWxhbmd1YWdlLXBpY2tlcj48cGlwLXNlY29uZGFyeS1hY3Rpb25zIGNsYXNzPVwiZmxleC1maXhlZFwiIHBpcC1hcHBiYXItcGFydD1cIm1lbnVcIj48L3BpcC1zZWNvbmRhcnktYWN0aW9ucz48L3BpcC1hcHBiYXI+PGRpdiBjbGFzcz1cImxheW91dC1yb3dcIiBzdHlsZT1cImhlaWdodDogMTAwJTtcIj48cGlwLXNpZGVuYXYgbmctaWY9XCIkY3RybC5zaG93TmF2KClcIj48cGlwLW5hdi1oZWFkZXIgcGlwLXNpZGVuYXYtcGFydD1cInVzZXJcIj48L3BpcC1uYXYtaGVhZGVyPjxwaXAtbmF2LW1lbnUgcGlwLXNpZGVuYXYtcGFydD1cImxpbmtzXCI+PC9waXAtbmF2LW1lbnU+PC9waXAtc2lkZW5hdj48cGlwLW1haW4tYm9keSBjbGFzcz1cInBpcC1tYWluLWJvZHlcIiB1aS12aWV3PVwiXCI+PC9waXAtbWFpbi1ib2R5PjwvZGl2PjwvcGlwLW1haW4+Jyk7XG59XSk7XG59KSgpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXAtYWRtaW4tc2hlbGwtaHRtbC5taW4uanMubWFwXG4iXX0="}